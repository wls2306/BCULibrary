<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.bcu.mapper.StudyMapper">
    <!--auto generated Code-->
    <resultMap id="BaseResultMap" type="com.bcu.pojo.Study">
        <result column="id" property="id" jdbcType="INTEGER"/>
        <result column="study_seat_id" property="studySeatId" jdbcType="VARCHAR"/>
        <result column="study_user_id" property="studyUserId" jdbcType="VARCHAR"/>
        <result column="study_user_name" property="studyUserName" jdbcType="VARCHAR"/>
        <result column="study_start_time" property="studyStartTime" jdbcType="TIMESTAMP"/>
        <result column="study_end_time" property="studyEndTime" jdbcType="TIMESTAMP"/>
    </resultMap>

    <!--auto generated Code-->
    <sql id="Base_Column_List">
        study_seat_id,
        study_user_id,
        study_user_name,
        study_start_time,
        study_end_time
    </sql>

    <!--auto generated Code-->
    <insert id="insert" useGeneratedKeys="true" keyProperty="studySeatId">
        INSERT INTO study (
            study_seat_id,
            study_user_id,
            study_user_name,
            study_start_time,
            study_end_time
        ) VALUES (
            #{study.studySeatId,jdbcType=VARCHAR},
            #{study.studyUserId,jdbcType=VARCHAR},
            #{study.studyUserName,jdbcType=VARCHAR},
            #{study.studyStartTime,jdbcType=TIMESTAMP},
            #{study.studyEndTime,jdbcType=TIMESTAMP}
        )
    </insert>

    <!--auto generated Code-->
    <insert id="insertSelective" useGeneratedKeys="true" keyProperty="studySeatId">
        INSERT INTO study
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="study.studySeatId!=null"> study_seat_id,</if>
            <if test="study.studyUserId!=null"> study_user_id,</if>
            <if test="study.studyUserName!=null"> study_user_name,</if>
            <if test="study.studyStartTime!=null"> study_start_time,</if>
            <if test="study.studyEndTime!=null"> study_end_time,</if>
        </trim>
        VALUES
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="study.studySeatId!=null">#{study.studySeatId,jdbcType=VARCHAR},
            </if>
            <if test="study.studyUserId!=null">#{study.studyUserId,jdbcType=VARCHAR},
            </if>
            <if test="study.studyUserName!=null">#{study.studyUserName,jdbcType=VARCHAR},
            </if>
            <if test="study.studyStartTime!=null">#{study.studyStartTime,jdbcType=TIMESTAMP},
            </if>
            <if test="study.studyEndTime!=null">#{study.studyEndTime,jdbcType=TIMESTAMP},
            </if>
        </trim>
    </insert>

    <!--auto generated Code-->
    <insert id="insertList">
        INSERT INTO study (
            study_seat_id,
            study_user_id,
            study_user_name,
            study_start_time,
            study_end_time
        )VALUES
        <foreach collection="studys" item="study" index="index" separator=",">
            (
            #{study.studySeatId,jdbcType=VARCHAR},
            #{study.studyUserId,jdbcType=VARCHAR},
            #{study.studyUserName,jdbcType=VARCHAR},
            #{study.studyStartTime,jdbcType=TIMESTAMP},
            #{study.studyEndTime,jdbcType=TIMESTAMP}
            )
        </foreach>
    </insert>

    <!--auto generated Code-->
    <update id="updateByPrimaryKeySelective">
        UPDATE study
        <set>
            <if test="study.studyUserId != null"> study_user_id= #{study.studyUserId,jdbcType=VARCHAR},</if>
            <if test="study.studyUserName != null"> study_user_name= #{study.studyUserName,jdbcType=VARCHAR},</if>
            <if test="study.studyStartTime != null"> study_start_time= #{study.studyStartTime,jdbcType=TIMESTAMP},</if>
            <if test="study.studyEndTime != null"> study_end_time= #{study.studyEndTime,jdbcType=TIMESTAMP}</if>
        </set>
        WHERE study_seat_id = #{study.studySeatId,jdbcType=VARCHAR}
    </update>


    <select id="selectStudyRecordByTime" resultMap="BaseResultMap">
        select * from seat where seat_time_start between #{timeStart} and #{timeEnd}
    </select>

<!--auto generated by MybatisCodeHelper on 2019-03-22-->
    <select id="selectbyStudySeatId" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from study
        where study_seat_id=#{studySeatId,jdbcType=VARCHAR}
    </select>


<!--
    <select id="selectStudyTimeByUserPart" resultType="int">
        select COUNT (TIMESTAMPDIFF(HOUR,seat_time_start,study_end_time)) where study_user_id
    </select>
-->



</mapper>

